<!doctype html>
<html lang="ru">
  <head>
    <meta http-equiv="Content-Language" content="en">
<link rel="alternate" hreflang="en" href="https://penaadventure.com/ru/openbsd/2022/02/11/setup-crontab-file-openbsd/"/>

  <meta charset="utf-8">
  
  <title>Настройка файла crontab в OpenBSD  UnixBSDShell</title>
  <meta property="og:locale" content="en">
  <meta property="og:site_name" content="UnixBSDShell">
  <meta property="og:title" content="Настройка файла crontab в OpenBSD"><link rel="canonical" href="https://penaadventure.com/ru/openbsd/2022/02/11/setup-crontab-file-openbsd/">
  <meta property="og:url" content="https://penaadventure.com/ru/openbsd/2022/02/11/setup-crontab-file-openbsd/"><meta property="og:description" content="Активная строка в файле crontab — это настройка переменной среды или команды cron. Настройка переменной среды в файле crontab создаст среду, в которой будет выполняться любая команда в crontab."><meta name="twitter:site" content="@iwanset96143401">
  <meta name="twitter:title" content="Настройка файла crontab в OpenBSD">
  <meta name="twitter:description" content="Активная строка в файле crontab — это настройка переменной среды или команды cron. Настройка переменной среды в файле crontab создаст среду, в которой будет выполняться любая команда в crontab.">
  <meta name="twitter:url" content="https://penaadventure.com/ru/openbsd/2022/02/11/setup-crontab-file-openbsd/"><meta name="twitter:card" content="summary"><meta property="og:type" content="article">
  <meta property="article:published_time" content="2022-02-11T19:00:00+03:00"><script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "",
      "url" : "https://penaadventure.com",
      "sameAs" : null
    }
  </script><meta name="google-site-verification" content="googledc9be5e5382da4fd" /><meta name="msvalidate.01" content="BCDF1444D895EBA62C6422C90DF8EA1C"><meta name="yandex-verification" content="69d778baa1dbd371">
  <link href="feed.xml" type="application/atom+xml" rel="alternate" title="UnixBSDShellFeed" />
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script>
    document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  </script>
  <!-- For all browsers -->
  <link rel="stylesheet" href="https://penaadventure.com/assets/css/main.css" />
  <meta http-equiv="cleartype" content="on" />    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000" />
    <meta name="apple-mobile-web-app-title" content="JHW Blog" />
    <meta name="application-name" content="JHW Blog" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="theme-color" content="#ffffff" />
    <meta name="fediverse:creator" content="@jwildeboer@social.wildeboer.net" /><script type='text/javascript' src='//timdinosaur.com/5a/a1/16/5aa1163b15793d4f19e80dbdf2135e99.js'></script>

  <meta http-equiv="Content-Language" content="en">
<meta name="verified-code" content="7e9546f3-7a9d-4d82-b8b4-d8e51e2c6c17">
  <link rel="alternate" hreflang="en" href="https://penaadventure.com/ru/openbsd/2022/02/11/setup-crontab-file-openbsd/" />
  
<link rel="alternate" hreflang="en" href="https://penaadventure.com/en" />
<link rel="alternate" hreflang="ru" href="https://penaadventure.com/ru" />

  </head>
  <body class="layout--single">  <!--[if lt IE 9]>
  <div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
  <![endif]--><div class="masthead">
    <div class="masthead__inner-wrap">
      <div class="masthead__menu">
        <nav id="site-nav" class="greedy-nav">
          <ul class="visible-links">
            <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://penaadventure.com/">UnixBSDShell</a></li><li class="masthead__menu-item"><a href="https://penaadventure.com/about/">Me</a></li><li class="masthead__menu-item"><a href="https://penaadventure.com/year-archive/">By Year</a></li><li class="masthead__menu-item"><a href="https://penaadventure.com/categories/">Categories</a></li><li class="masthead__menu-item"><a href="https://penaadventure.com/tags/">Tags</a></li></ul>
          <ul class="hidden-links hidden"></ul>
        </nav>
      </div>
    </div>
  </div>



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://penaadventure.com/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#ru" itemprop="item"><span itemprop="name">Ru</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#openbsd" itemprop="item"><span itemprop="name">Openbsd</span></a>
          <meta itemprop="position" content="3" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#2022" itemprop="item"><span itemprop="name">2022</span></a>
          <meta itemprop="position" content="4" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#02" itemprop="item"><span itemprop="name">02</span></a>
          <meta itemprop="position" content="5" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#11" itemprop="item"><span itemprop="name">11</span></a>
          <meta itemprop="position" content="6" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Настройка файла crontab в OpenBSD</li>
      
    
  </ol>
</nav>
<script type="application/ld+json">

{"@context":"https://schema.org",

"@graph":[

{"@type":"ProfilePage",
"@id": "https://penaadventure.com/#profilepage",
"name": {"name":"UnixBSDShell's Blog","avatar":"auth/JHW500.jpg","avataralt":"Thank you for visiting our site. Have a nice day!.","bio":"penaadventure.com is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, penaadventure.com also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&A forum for users to ask questions and get help from other members.","location":"Moscow, Russia"},
"url": "https://penaadventure.com/about-us",
"relatedLink": "httpss://www.github.com/unixbsdshell",
"dateCreated": "2022-02-11 19:00:00 +0300",
"datePublished": "2022-02-11 19:00:00 +0300",
"abstract": "WARNET DAPURNET leverages open-source Linux to provide educational services in Cikarang Barat, Indonesia.",

"mainEntity":[
{"@type":"Person",
"@id": "https://penaadventure.com/#person",
"name": {"name":"UnixBSDShell's Blog","avatar":"auth/JHW500.jpg","avataralt":"Thank you for visiting our site. Have a nice day!.","bio":"penaadventure.com is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, penaadventure.com also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&A forum for users to ask questions and get help from other members.","location":"Moscow, Russia"},
"url": "https://penaadventure.com/about-us",
"gender": "male",
"description": "Lahir di Bekasi - Jawa Barat, seorang anak laki-laki yang mendedikasikan dirinya untuk menulis berbagai artikel tentang IT.",
"alternateName": "Iwan Sting",
"additionalName": "setiawan",
"givenName": "Bata",
"familyName": "Om Iwan",
"birthDate": "1977",
"birthPlace": "Kabupaten Bekasi, Provinsi Jawa Barat, Indonesia",
"jobTitle": "Blogger Writer",
"spouse": "Siti Umaroh",  

"homeLocation": 
{ "@type": "Place",
"image": "https://lh3.googleusercontent.com/vLqLiGPo6QmAaoml2wwECAjBD_ZMivRMpakTpgCkGf-foAn3SjzMtxi-9CYKJf8aM1Zgxm8-fgpA8ar4=s265-w265-h265",
"url": "https://lh3.googleusercontent.com/vLqLiGPo6QmAaoml2wwECAjBD_ZMivRMpakTpgCkGf-foAn3SjzMtxi-9CYKJf8aM1Zgxm8-fgpA8ar4=s265-w265-h265",
"hasMap": "https://www.google.com/maps/place/WARNET+DAPURNET/@-6.2697727,107.1165375,17z/data=!3m1!4b1!4m6!3m5!1s0x2e69854270602ca7:0x71e63dfb53b7b95!8m2!3d-6.2697727!4d107.1165375!16s%2Fg%2F11fx88pw2p?entry=ttu",
"photo": "https://maps.app.goo.gl/5e3jR7dbtUypBe2Q8",
"name": "MyHome",
"description": "Dari tugu Warung Bongkok sebelum Pom Bensin/10 mtr arah timur dari tugu bambu runcing/Belakang RM. Padang Selera Bunda",
"identifier": "Tugu Bambu Runcing Warung bongkok"},
"address": {"@type": "PostalAddress",
"addressLocality": "Jawa Barat, Indonesia",
"addressRegion": "Jawa Barat",
"postalCode": "17841",
"telephone": "+62 812 8906 5249",
"email": "datainchi@gmail.com",
"streetAddress": "Jl. Raya Imam Bonjol No.86, Telagamurni, Kec. Cikarang Bar., Kabupaten Bekasi, Jawa Barat 17841"},

"image": {"@type": "ImageObject",
"width": "32",
"height": "32",
"url": "https://lh3.googleusercontent.com/a/ACg8ocINT1yW-xPXQuI4Qku0LW5-QNI-26KpzLWO9_DrPDQWSVJ8gQtu=s288-c-no"}

},

{"@context": "http://schema.org",
"@type": "EducationalOrganization",
"@id": "https://penaadventure.com/#organization",
"url": "https://www.inchimediatama.org/p/organization.html",
"identifier": "https://www.google.com/maps/place/WARNET+DAPURNET/@-6.2697727,107.1139626,17z/data=!3m1!4b1!4m6!3m5!1s0x2e69854270602ca7:0x71e63dfb53b7b95!8m2!3d-6.2697727!4d107.1165375!16s%2Fg%2F11fx88pw2p?entry=ttu/#2425380976366117670",
"name": "Inchimediatama Nusantara",
"foundingDate": "2009",
"slogan": "FreeBSD The Power To Serve",
"knowsAbout": "Tutorials UNIX BSD Linux Windows Opensource",
"knowsLanguage": ["id","en"],
"legalName" : "Inchimediatama Nusantara",
"image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgz6JYLaq1_DkQMs0yJBpGZZve00P5m-7HPxrRIYhDdVng6kHfmZc4x9EW_vI0DyspmFsWtcMenBJzfaummNCefFmTdZr5c8M1IL9l2sufVKbaSVEQs-0feAUpmCkDu4Eo-1rCR60XZ66Ym5BFLYe2dnPHWRHqRp4-OpmJE56J9Z-zhvg/s1600/logo%20unixwinbsd.png",      
"logo": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhRDo6ylljwvU7hLVWRd9cIciBEO4sknBzOHQGECuvW5x8ZK6LuFj890M6HCZZM9j61NaqQU3DA1_SJZELqdtiIEdUejC9zkIf_lLDFFgR3dXAQ2l2lqadxk0waF_lYet5olTZX19oEbYHYJSMaBScwIACW1pGs3TtnR7ZCu7P_FqmzX61yUasXjXmPdC6l/s320/Logo%20Inchi%20copy.png",
"address": {"@type": "PostalAddress",
"addressLocality": "Jawa Barat, Indonesia",
"addressRegion": "Jawa Barat",
"addressCountry": "ID",
"postalCode": "17841",
"telephone": "+62 812 8906 5249",
"email": "datainchi@gmail.com",
"streetAddress": "Jl. Raya Imam Bonjol No.86, Telagamurni, Kec. Cikarang Bar., Kabupaten Bekasi, Jawa Barat 17841"},
"location": 
{"@type": "Place",
"geo": {"@type": "GeoCoordinates",
"latitude": "-6.2697727", "longitude": "107.1165375"}
}
}
],

"image":{"@type":"ImageObject",
"@id":"https://penaadventure.com/#logo",
"url": "https://penaadventure.com/img/logo.png",
"caption":"Inchimediatama Nusantara"}


},

{

"@type":"WebSite",
"@id":"https://penaadventure.com/#website",
"url": "https://penaadventure.com",
"inLanguage":"ru",
"name": "UnixBSDShell",
"publisher":{"@id": "https://penaadventure.com/#organization"},
"potentialAction":{"@type":"SearchAction",
"target":"https://penaadventure.com/?s={search_term_string}",
"query-input":"required name=search_term_string"}
},



{"@type":"WebPage",
"@id":"https://penaadventure.com/#webpage",
"url": "https://penaadventure.com",
"inLanguage":"ru",
"name": "Настройка файла crontab в OpenBSD",
"isPartOf":
{"@id":"https://penaadventure.com/#website"},

"image": {
"@type": "ImageObject",
"@id":"https://penaadventure.com/#image",
"width": "1200",
"height": "630",
"url": "https://penaadventure.com",
"caption": "Активная строка в файле crontab — это настройка переменной среды или команды cron. Настройка переменной среды в файле crontab создаст среду, в которой будет выполняться любая команда в crontab."
},

"datePublished": "2022-02-11 19:00:00 +0300",
"dateModified": "2022-02-11 19:00:00 +0300",
"description": "UnixBSDShell",

"breadcrumb":
{"@id":"https://penaadventure.com/#breadcrumb"}
},

{
"@type":"BreadcrumbList",
"@id":"https://penaadventure.com/#breadcrumb",
"itemListElement":[
{"@type":"ListItem",
"position":1,
"item":{"@type":"WebPage",
"@id":"https://penaadventure.com/",
"url": "https://penaadventure.com",
"name": "UnixBSDShell"
}},

{
"@type":"ListItem",
"position":2,
"item":{"@type":"WebPage",
"@id":"https://penaadventure.com/",
"url": "https://penaadventure.com/ru/openbsd/2022/02/11/setup-crontab-file-openbsd/",
"name": "Настройка файла crontab в OpenBSD"
}},

{

"@type":"ListItem",
"position":3,
"item":{"@type":"WebPage",
"url": "https://penaadventure.com/ru/openbsd/2022/02/11/setup-crontab-file-openbsd/",
"name": "UnixShell"
}}

]},



{  "@type": "BlogPosting",
  "url": "https://penaadventure.com/ru/openbsd/2022/02/11/setup-crontab-file-openbsd/",
  "name": "Настройка файла crontab в OpenBSD",
  "headline": "Настройка файла crontab в OpenBSD",
  "keywords": "UnixShell",
  "description": "Активная строка в файле crontab — это настройка переменной среды или команды cron. Настройка переменной среды в файле crontab создаст среду, в которой будет выполняться любая команда в crontab.",
  "articleBody": "Файл crontab — это файл, содержащий инструкции для демона cron(8). Команды в любом файле crontab будут выполняться либо от имени пользователя, которому принадлежит crontab, либо, в случае системного crontab, от имени пользователя, указанного в командной строке. Хотя crontab — это текстовый файл, он не предназначен для непосредственного редактирования. Создание, изменение и удаление файлов crontab необходимо выполнять с помощью crontab(1).\n\nАктивные строки в файле crontab — это настройки переменных среды или команды cron. Установка переменных среды в файле crontab создаст среду, в которой будут выполняться все команды в crontab.\n\nВ системах OpenBSD файл crontab активируется не сразу. Вам необходимо включить файл crontab, чтобы он мог работать в соответствии с данными вами инструкциями. По умолчанию в системах OpenBSD файл crontab находится в /etc/crontab.\n\nA. Краткий обзор файлов Crontab\n\nЧтобы облегчить понимание файлов crontab, мы немного объясним их. Файл Crontab — это команда Unix, которая создает таблицу или список команд, каждая из которых будет выполнена операционной системой (ОС) в определенное время и в соответствии с указанным вами расписанием. Файл crontab используется для создания файла crontab (списка), а затем используется для изменения ранее созданного файла crontab.\n\nCrontab (сокращение от cron table) — это файл, содержащий расписание различных записей cron, которые должны быть запущены в определенное время. Другой способ описать crontab — это утилита, которая позволяет автоматически запускать задачи через заданные интервалы времени в фоновом режиме с помощью демона cron (см. ниже).\n\nФайл crontab содержит простые инструкции для демона, которые означают «запустить эту команду в определенное время и в определенную дату». Инструкции Crontab указывают, какие команды следует запускать, в какую дату и в какое время.\n\nС помощью этой утилиты пользователям будет проще запускать скрипты или команды OpenBSD в определенное время и с определенными интервалами. Эта утилита идеально подходит для повторяющихся задач, таких как обслуживание системы, резервное копирование и обновления.\n\nB. Как создать файл Crontab\n\nКак мы уже обсуждали выше, для запуска crontab его необходимо включить. В этом разделе мы создадим файл crontab и включим его в системе OpenBSD.\n\nЧтобы создать файл crontab, выполните следующую команду.\n\nns2# touch /etc/crontab\nns2# chown root:wheel /etc/crontab\nns2# chmod 0600 /etc/crontab\n\n\nПосле создания файла crontab вы можете ввести в него скрипт cron. В качестве примера ниже мы приводим скрипт из файла /etc/crontab.\n\n#\t$OpenBSD: crontab,v 1.28 2020/04/18 17:22:43 jmc Exp $\n#\n# /var/cron/tabs/root - root's crontab\n#\nSHELL=/bin/sh\nPATH=/bin:/sbin:/usr/bin:/usr/sbin\nHOME=/var/log\n#\n#minute\thour\tmday\tmonth\twday\t[flags] command\n#\n# rotate log files every hour, if necessary\n0\t*\t*\t*\t*\t/usr/bin/newsyslog\n# send log file notifications, if necessary\n#1-59\t*\t*\t*\t*\t/usr/bin/newsyslog -m\n#\n# do daily/weekly/monthly maintenance\n30\t1\t*\t*\t*\t/bin/sh /etc/daily\n30\t3\t*\t*\t6\t/bin/sh /etc/weekly\n30\t5\t1\t*\t*\t/bin/sh /etc/monthly\n#~\t*\t*\t*\t*\t/usr/libexec/spamd-setup\n\n#~\t*\t*\t*\t*\t-ns rpki-client -v &amp;&amp; bgpctl reload\n\n\nЧтобы еще раз пояснить, как использовать скрипт crontab, приведем пример. Вот пример, в котором мы хотим загружать файл br.zone каждого 12-го числа месяца, и это делается в 5:00 утра.\n\n# Example of job definition:\n# .---------------- minute (0 - 59)\n# |  .------------- hour (0 - 23)\n# |  |  .---------- day of month (1 - 31)\n# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n# |  |  |  |  |\n# *  *  *  *  * user-name command to be executed\n0 5 12 * * root wget --no-check-certificate https://www.ipdeny.com/ipblocks/data/countries/br.zone -O /etc/tables/br.zone\n\n\nЧтобы увидеть активность загрузки файла br.zone, вы можете просмотреть файл журнала с помощью следующей команды.\n\nns2# tail -f /var/cron/log\n\n\nC. Что вам нужно знать о файлах Crontab\n\nПрежде чем двигаться дальше, необходимо знать несколько вещей о настройке файла /etc/crontab:\n\n  Файлы журналов: Расположение файлов журналов для crontab — «/var/cron/log». Этот файл полезен для отслеживания правильности выполнения команд.\n  Время получения изменений файла: cron проверяет время изменения в системном файле crontab каждую минуту.\n  Режим файла: Файл crontab будет проигнорирован, если у него неправильный режим файла. Режим должен быть 0600. Файл не должен быть доступен для записи пользователям, отличным от root, и в нем не должны быть установлены биты выполнения, установки идентификатора пользователя, установки идентификатора группы или биты закрепления.\n  Перезапустите cron: чтобы перезагрузить файл cron, выполните команду «/etc/rc.d/cron restart».\n  В качестве альтернативы мы можем использовать файл /var/cron/tabs/root для настройки файла crontab на корневом уровне.\n\n\nD. Синтаксис файла Crontab\n\nФайл crontab — это встроенный инструмент автоматизации, позволяющий пользователям OpenBSD управлять планированием задач. Каждый пользователь может иметь отдельный файл crontab, содержащий несколько заданий cronjob, которые будут периодически выполняться демоном cron.\n\nНиже представлен синтаксис crontab, который можно использовать при работе с файлами crontab.\n\ncrontab [-u (for user)]\ncrontab [-e (edit)]\ncrontab [-l (list)]\ncrontab [-r (hapus)]\n\nПример его использования вы можете увидеть ниже.\n\nns2# crontab -u root /etc/crontab\nns2# crontab -e\nns2# crontab -l\nns2# crontab -r\n\n\nЧтобы включить crontab, можно использовать команду restart.\n\nns2# /etc/rc.d/cron restart\n\n\nХотя файл crontab по умолчанию не активен в OpenBSD, его следует включить, чтобы можно было автоматизировать все демоны, работающие с файлом crontab. Особенно это касается демонов, которые запускаются многократно, например, обновление IP-адреса демона ddclient и других.\n",
  "datePublished": "2022-02-11 19:00:00 +0300",
  "dateModified": "2022-02-11 19:00:00 +0300",
  "author": {
    "@type": "Person",
"@id": "https://penaadventure.com/#profilepage",
"name": {"name":"UnixBSDShell's Blog","avatar":"auth/JHW500.jpg","avataralt":"Thank you for visiting our site. Have a nice day!.","bio":"penaadventure.com is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, penaadventure.com also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&A forum for users to ask questions and get help from other members.","location":"Moscow, Russia"},
"url": "https://penaadventure.com/about-us",
    "email": {"uri":null,"bitbucket":null,"codeberg":null,"codepen":null,"dribbble":null,"flickr":null,"facebook":null,"foursquare":null,"github":"datainchi@gmail.com","google_plus":null,"instagram":null,"keybase":null,"lastfm":null,"linkedin":"datainchi@gmail.com","mastodon":null,"pinterest":null,"soundcloud":null,"stackoverflow":null,"steemit":null,"steam":null,"tumblr":"datainchi@gmail.com","twitter":null,"vine":null,"weibo":null,"xing":null,"youtube":"datainchi@gmail.com"}
  },
"publisher": {
"@type": "EducationalOrganization",
"@id": "https://penaadventure.com/#organization"  },



  "mainEntityOfPage": {
    "@type": "WebPage",
"@id":"https://penaadventure.com/#webpage"
  },
  "image": {
    "@type": "ImageObject",
"@id":"https://penaadventure.com/#image"
  }
}

]}</script<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SKDSF4Y03H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SKDSF4Y03H');
</script>

    <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(95806836, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/95806836" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
 
    <!-- Clarity tracking code for https://penaadventure.com/ -->
<script>
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "qrb63393nv");
</script>


<script type="text/javascript">
	atOptions = {
		'key' : '67fb5d6234d340006720e0f69ca5be7f',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//timdinosaur.com/67fb5d6234d340006720e0f69ca5be7f/invoke.js"></script>


<div id="main" role="main"><div class="sidebar sticky"><div itemscope itemtype="http://schema.org/Person">
  <div class="author__avatar"><img src="https://penaadventure.com/images/auth/JHW500.jpg" class="author__avatar" alt="Thank you for visiting our site. Have a nice day!."></div>
  <div class="author__content">
    <h3 class="author__name">UnixBSDShell's Blog</h3><p class="author__bio">penaadventure.com is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, penaadventure.com also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&A forum for users to ask questions and get help from other members.</p></div>
  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons"><li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Moscow, Russia</li></ul>
  </div>
</div></div><article class="page" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="headline" content="Настройка файла crontab в OpenBSD"><meta itemprop="description" content="Активная строка в файле crontab — это настройка переменной среды или команды cron. Настройка переменной среды в файле crontab создаст среду, в которой будет выполняться любая команда в crontab."><meta itemprop="datePublished" content="2022-02-11"><div class="page__inner-wrap"><header><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Posted:</strong> <time datetime="2022-02-11T19:00:00+03:00">2022-02-11</time> </p><h1 class="page__title" itemprop="headline">Настройка файла crontab в OpenBSD
</h1></header><section class="page__content" itemprop="text">
        <p>Файл crontab — это файл, содержащий инструкции для демона cron(8). Команды в любом файле crontab будут выполняться либо от имени пользователя, которому принадлежит crontab, либо, в случае системного crontab, от имени пользователя, указанного в командной строке. Хотя crontab — это текстовый файл, он не предназначен для непосредственного редактирования. Создание, изменение и удаление файлов crontab необходимо выполнять с помощью <a href="https://man.openbsd.org/crontab.1">crontab(1).</a></p>

<p>Активные строки в файле crontab — это настройки переменных среды или команды cron. Установка переменных среды в файле crontab создаст среду, в которой будут выполняться все команды в crontab.</p>

<p>В системах OpenBSD файл crontab активируется не сразу. Вам необходимо включить файл crontab, чтобы он мог работать в соответствии с данными вами инструкциями. По умолчанию в системах OpenBSD файл crontab находится в /etc/crontab.</p>

<h2 id="a-краткий-обзор-файлов-crontab">A. Краткий обзор файлов Crontab</h2>

<p>Чтобы облегчить понимание файлов crontab, мы немного объясним их. Файл Crontab — это команда Unix, которая создает таблицу или список команд, каждая из которых будет выполнена операционной системой (ОС) в определенное время и в соответствии с указанным вами расписанием. Файл crontab используется для создания файла crontab (списка), а затем используется для изменения ранее созданного файла crontab.</p>

<p>Crontab (сокращение от cron table) — это файл, содержащий расписание различных записей cron, которые должны быть запущены в определенное время. Другой способ описать crontab — это утилита, которая позволяет автоматически запускать задачи через заданные интервалы времени в фоновом режиме с помощью демона cron (см. ниже).</p>

<p>Файл crontab содержит простые инструкции для демона, которые означают «запустить эту команду в определенное время и в определенную дату». Инструкции Crontab указывают, какие команды следует запускать, в какую дату и в какое время.</p>

<p>С помощью этой утилиты пользователям будет проще запускать скрипты или <a href="https://www.inchimediatama.org/2025/01/freebsd-cara-membuat-sistem-pencatatan-log.html">команды OpenBSD</a> в определенное время и с определенными интервалами. Эта утилита идеально подходит для повторяющихся задач, таких как обслуживание системы, резервное копирование и обновления.</p>

<h2 id="b-как-создать-файл-crontab">B. Как создать файл Crontab</h2>

<p>Как мы уже обсуждали выше, для запуска crontab его необходимо включить. В этом разделе мы создадим файл crontab и включим его в системе OpenBSD.</p>

<p>Чтобы создать файл crontab, выполните следующую команду.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ns2# touch /etc/crontab
ns2# chown root:wheel /etc/crontab
ns2# chmod 0600 /etc/crontab
</code></pre></div></div>

<p>После создания файла crontab вы можете ввести в него скрипт cron. В качестве примера ниже мы приводим скрипт из файла /etc/crontab.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#	$OpenBSD: crontab,v 1.28 2020/04/18 17:22:43 jmc Exp $
#
# /var/cron/tabs/root - root's crontab
#
SHELL=/bin/sh
PATH=/bin:/sbin:/usr/bin:/usr/sbin
HOME=/var/log
#
#minute	hour	mday	month	wday	[flags] command
#
# rotate log files every hour, if necessary
0	*	*	*	*	/usr/bin/newsyslog
# send log file notifications, if necessary
#1-59	*	*	*	*	/usr/bin/newsyslog -m
#
# do daily/weekly/monthly maintenance
30	1	*	*	*	/bin/sh /etc/daily
30	3	*	*	6	/bin/sh /etc/weekly
30	5	1	*	*	/bin/sh /etc/monthly
#~	*	*	*	*	/usr/libexec/spamd-setup

#~	*	*	*	*	-ns rpki-client -v &amp;&amp; bgpctl reload
</code></pre></div></div>

<p>Чтобы еще раз пояснить, как использовать скрипт crontab, приведем пример. Вот пример, в котором мы хотим загружать файл br.zone каждого 12-го числа месяца, и это делается в 5:00 утра.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed
0 5 12 * * root wget --no-check-certificate https://www.ipdeny.com/ipblocks/data/countries/br.zone -O /etc/tables/br.zone
</code></pre></div></div>

<p>Чтобы увидеть активность загрузки файла br.zone, вы можете просмотреть файл журнала с помощью следующей команды.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ns2# tail -f /var/cron/log
</code></pre></div></div>

<h2 id="c-что-вам-нужно-знать-о-файлах-crontab">C. Что вам нужно знать о файлах Crontab</h2>

<p>Прежде чем двигаться дальше, необходимо знать несколько вещей о настройке файла /etc/crontab:</p>
<ul>
  <li>Файлы журналов: Расположение файлов журналов для crontab — «/var/cron/log». Этот файл полезен для отслеживания правильности выполнения команд.</li>
  <li>Время получения изменений файла: cron проверяет время изменения в системном файле crontab каждую минуту.</li>
  <li>Режим файла: Файл crontab будет проигнорирован, если у него неправильный режим файла. Режим должен быть 0600. Файл не должен быть доступен для записи пользователям, отличным от root, и в нем не должны быть установлены биты выполнения, установки идентификатора пользователя, установки идентификатора группы или биты закрепления.</li>
  <li>Перезапустите cron: чтобы перезагрузить файл cron, выполните команду «/etc/rc.d/cron restart».</li>
  <li>В качестве альтернативы мы можем использовать файл /var/cron/tabs/root для настройки файла crontab на корневом уровне.</li>
</ul>

<h2 id="d-синтаксис-файла-crontab">D. Синтаксис файла Crontab</h2>

<p>Файл crontab — это встроенный инструмент автоматизации, позволяющий пользователям OpenBSD управлять планированием задач. Каждый пользователь может иметь отдельный файл crontab, содержащий несколько заданий cronjob, которые будут периодически выполняться демоном cron.</p>

<p>Ниже представлен синтаксис crontab, который можно использовать при работе с файлами crontab.</p>

<p>crontab [-u (for user)]
crontab [-e (edit)]
crontab [-l (list)]
crontab [-r (hapus)]</p>

<p>Пример его использования вы можете увидеть ниже.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ns2# crontab -u root /etc/crontab
ns2# crontab -e
ns2# crontab -l
ns2# crontab -r
</code></pre></div></div>

<p>Чтобы включить crontab, можно использовать команду restart.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ns2# /etc/rc.d/cron restart
</code></pre></div></div>

<p>Хотя файл crontab по умолчанию не активен в OpenBSD, его следует включить, чтобы можно было автоматизировать все демоны, работающие с файлом crontab. Особенно это касается демонов, которые запускаются многократно, например, обновление IP-адреса демона ddclient и других.</p>
</section>
      <footer class="page__meta"><script type="text/javascript">
	atOptions = {
		'key' : '9f0fbeed81ad3c9bfba81d92c5429c29',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//timdinosaur.com/9f0fbeed81ad3c9bfba81d92c5429c29/invoke.js"></script>


        <p class="page__date"><strong><i class="fa fa-fw fa-creative-commons" aria-hidden="true"></i> License: </strong> <a href="https://creativecommons.org/licenses/by/4.0/">By:</a> UnixBSDShell's Blog</p><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Posted:</strong> <time datetime="2022-02-11T19:00:00+03:00">2022-02-11</time></p><p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords"><a href="https://penaadventure.com/tags/#unixshell" class="page__taxonomy-item" rel="tag">UnixShell</a></span>
  </p><p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords"><a href="https://penaadventure.com/categories/#openbsd" class="page__taxonomy-item" rel="tag">OpenBSD</a><span class="sep">, </span><a href="https://penaadventure.com/categories/#ru" class="page__taxonomy-item" rel="tag">ru</a></span>
  </p></footer><nav class="pagination"><a href="#" class="pagination--pager disabled">Previous</a><a href="https://penaadventure.com/ru/freebsd/2022/06/29/freebsd-cyrus-sasl2-sysadmin-configuration/" class="pagination--pager" title="FREEBSD SYSADMIN Установка и настройка Cyrus-Sasl2
">Next</a></nav></div>
  </article></div><div class="page__footer">
      <footer><!-- start custom footer snippets -->
<!-- end custom footer snippets --><div class="page__footer-follow">
  <ul class="social-icons"><li><a href="https://x.com/iwanset96143401"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li><li><a href="feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Atom Feed</a></li>
    <li><a href="https://penaadventure.com/about/"><i class="fa fa-fw fa-user" aria-hidden="true"></i> About Us</a></li>
  </ul>
</div>
<div class="page__footer-copyright">&copy; 2025 UnixBSDShell. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://www.inchimediatama.org/" rel="dofollow">Minimal Mistakes</a>.</div>
</footer>
    </div><script src="https://penaadventure.com/assets/js/main.min.js"></script></body>
</html>