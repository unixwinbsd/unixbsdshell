<!doctype html>
<html lang="ru">
  <head>
    <meta http-equiv="Content-Language" content="en">
<link rel="alternate" hreflang="en" href="https://penaadventure.com/ru/freebsd/2024/01/26/samba-on-freebsd-connect-windows/"/>

  <meta charset="utf-8">
  
  <title>Как подключить FreeBSD к Windows с помощью Samba  UnixBSDShell</title>
  <meta property="og:locale" content="en">
  <meta property="og:site_name" content="UnixBSDShell">
  <meta property="og:title" content="Как подключить FreeBSD к Windows с помощью Samba"><link rel="canonical" href="https://penaadventure.com/ru/freebsd/2024/01/26/samba-on-freebsd-connect-windows/">
  <meta property="og:url" content="https://penaadventure.com/ru/freebsd/2024/01/26/samba-on-freebsd-connect-windows/"><meta property="og:description" content="С помощью Samba всю вашу работу можно легко выполнить в одной сети."><meta name="twitter:site" content="@iwanset96143401">
  <meta name="twitter:title" content="Как подключить FreeBSD к Windows с помощью Samba">
  <meta name="twitter:description" content="С помощью Samba всю вашу работу можно легко выполнить в одной сети.">
  <meta name="twitter:url" content="https://penaadventure.com/ru/freebsd/2024/01/26/samba-on-freebsd-connect-windows/"><meta name="twitter:card" content="summary"><meta property="og:type" content="article">
  <meta property="article:published_time" content="2024-01-26T19:00:00+03:00"><script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "",
      "url" : "https://penaadventure.com",
      "sameAs" : null
    }
  </script><meta name="google-site-verification" content="googledc9be5e5382da4fd" /><meta name="msvalidate.01" content="BCDF1444D895EBA62C6422C90DF8EA1C"><meta name="yandex-verification" content="69d778baa1dbd371">
  <link href="feed.xml" type="application/atom+xml" rel="alternate" title="UnixBSDShellFeed" />
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script>
    document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  </script>
  <!-- For all browsers -->
  <link rel="stylesheet" href="https://penaadventure.com/assets/css/main.css" />
  <meta http-equiv="cleartype" content="on" />    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000" />
    <meta name="apple-mobile-web-app-title" content="JHW Blog" />
    <meta name="application-name" content="JHW Blog" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="theme-color" content="#ffffff" />
    <meta name="fediverse:creator" content="@jwildeboer@social.wildeboer.net" /><script type='text/javascript' src='//timdinosaur.com/5a/a1/16/5aa1163b15793d4f19e80dbdf2135e99.js'></script>

  <meta http-equiv="Content-Language" content="en">
<meta name="verified-code" content="7e9546f3-7a9d-4d82-b8b4-d8e51e2c6c17">
  <link rel="alternate" hreflang="en" href="https://penaadventure.com/ru/freebsd/2024/01/26/samba-on-freebsd-connect-windows/" />
  
<link rel="alternate" hreflang="en" href="https://penaadventure.com/en" />
<link rel="alternate" hreflang="ru" href="https://penaadventure.com/ru" />

  </head>
  <body class="layout--single">  <!--[if lt IE 9]>
  <div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
  <![endif]--><div class="masthead">
    <div class="masthead__inner-wrap">
      <div class="masthead__menu">
        <nav id="site-nav" class="greedy-nav">
          <ul class="visible-links">
            <li class="masthead__menu-item masthead__menu-item--lg"><a href="https://penaadventure.com/">UnixBSDShell</a></li><li class="masthead__menu-item"><a href="https://penaadventure.com/about/">Me</a></li><li class="masthead__menu-item"><a href="https://penaadventure.com/year-archive/">By Year</a></li><li class="masthead__menu-item"><a href="https://penaadventure.com/categories/">Categories</a></li><li class="masthead__menu-item"><a href="https://penaadventure.com/tags/">Tags</a></li></ul>
          <ul class="hidden-links hidden"></ul>
        </nav>
      </div>
    </div>
  </div>



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://penaadventure.com/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#ru" itemprop="item"><span itemprop="name">Ru</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#freebsd" itemprop="item"><span itemprop="name">Freebsd</span></a>
          <meta itemprop="position" content="3" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#2024" itemprop="item"><span itemprop="name">2024</span></a>
          <meta itemprop="position" content="4" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#01" itemprop="item"><span itemprop="name">01</span></a>
          <meta itemprop="position" content="5" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#26" itemprop="item"><span itemprop="name">26</span></a>
          <meta itemprop="position" content="6" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Как подключить FreeBSD к Windows с помощью Samba</li>
      
    
  </ol>
</nav>
<script type="application/ld+json">

{"@context":"https://schema.org",

"@graph":[

{"@type":"ProfilePage",
"@id": "https://penaadventure.com/#profilepage",
"name": {"name":"UnixBSDShell's Blog","avatar":"auth/JHW500.jpg","avataralt":"Thank you for visiting our site. Have a nice day!.","bio":"penaadventure.com is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, penaadventure.com also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&A forum for users to ask questions and get help from other members.","location":"Moscow, Russia"},
"url": "https://penaadventure.com/about-us",
"relatedLink": "httpss://www.github.com/unixbsdshell",
"dateCreated": "2024-01-26 19:00:00 +0300",
"datePublished": "2024-01-26 19:00:00 +0300",
"abstract": "WARNET DAPURNET leverages open-source Linux to provide educational services in Cikarang Barat, Indonesia.",

"mainEntity":[
{"@type":"Person",
"@id": "https://penaadventure.com/#person",
"name": {"name":"UnixBSDShell's Blog","avatar":"auth/JHW500.jpg","avataralt":"Thank you for visiting our site. Have a nice day!.","bio":"penaadventure.com is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, penaadventure.com also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&A forum for users to ask questions and get help from other members.","location":"Moscow, Russia"},
"url": "https://penaadventure.com/about-us",
"gender": "male",
"description": "Lahir di Bekasi - Jawa Barat, seorang anak laki-laki yang mendedikasikan dirinya untuk menulis berbagai artikel tentang IT.",
"alternateName": "Iwan Sting",
"additionalName": "setiawan",
"givenName": "Bata",
"familyName": "Om Iwan",
"birthDate": "1977",
"birthPlace": "Kabupaten Bekasi, Provinsi Jawa Barat, Indonesia",
"jobTitle": "Blogger Writer",
"spouse": "Siti Umaroh",  

"homeLocation": 
{ "@type": "Place",
"image": "https://lh3.googleusercontent.com/vLqLiGPo6QmAaoml2wwECAjBD_ZMivRMpakTpgCkGf-foAn3SjzMtxi-9CYKJf8aM1Zgxm8-fgpA8ar4=s265-w265-h265",
"url": "https://lh3.googleusercontent.com/vLqLiGPo6QmAaoml2wwECAjBD_ZMivRMpakTpgCkGf-foAn3SjzMtxi-9CYKJf8aM1Zgxm8-fgpA8ar4=s265-w265-h265",
"hasMap": "https://www.google.com/maps/place/WARNET+DAPURNET/@-6.2697727,107.1165375,17z/data=!3m1!4b1!4m6!3m5!1s0x2e69854270602ca7:0x71e63dfb53b7b95!8m2!3d-6.2697727!4d107.1165375!16s%2Fg%2F11fx88pw2p?entry=ttu",
"photo": "https://maps.app.goo.gl/5e3jR7dbtUypBe2Q8",
"name": "MyHome",
"description": "Dari tugu Warung Bongkok sebelum Pom Bensin/10 mtr arah timur dari tugu bambu runcing/Belakang RM. Padang Selera Bunda",
"identifier": "Tugu Bambu Runcing Warung bongkok"},
"address": {"@type": "PostalAddress",
"addressLocality": "Jawa Barat, Indonesia",
"addressRegion": "Jawa Barat",
"postalCode": "17841",
"telephone": "+62 812 8906 5249",
"email": "datainchi@gmail.com",
"streetAddress": "Jl. Raya Imam Bonjol No.86, Telagamurni, Kec. Cikarang Bar., Kabupaten Bekasi, Jawa Barat 17841"},

"image": {"@type": "ImageObject",
"width": "32",
"height": "32",
"url": "https://lh3.googleusercontent.com/a/ACg8ocINT1yW-xPXQuI4Qku0LW5-QNI-26KpzLWO9_DrPDQWSVJ8gQtu=s288-c-no"}

},

{"@context": "http://schema.org",
"@type": "EducationalOrganization",
"@id": "https://penaadventure.com/#organization",
"url": "https://www.inchimediatama.org/p/organization.html",
"identifier": "https://www.google.com/maps/place/WARNET+DAPURNET/@-6.2697727,107.1139626,17z/data=!3m1!4b1!4m6!3m5!1s0x2e69854270602ca7:0x71e63dfb53b7b95!8m2!3d-6.2697727!4d107.1165375!16s%2Fg%2F11fx88pw2p?entry=ttu/#2425380976366117670",
"name": "Inchimediatama Nusantara",
"foundingDate": "2009",
"slogan": "FreeBSD The Power To Serve",
"knowsAbout": "Tutorials UNIX BSD Linux Windows Opensource",
"knowsLanguage": ["id","en"],
"legalName" : "Inchimediatama Nusantara",
"image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgz6JYLaq1_DkQMs0yJBpGZZve00P5m-7HPxrRIYhDdVng6kHfmZc4x9EW_vI0DyspmFsWtcMenBJzfaummNCefFmTdZr5c8M1IL9l2sufVKbaSVEQs-0feAUpmCkDu4Eo-1rCR60XZ66Ym5BFLYe2dnPHWRHqRp4-OpmJE56J9Z-zhvg/s1600/logo%20unixwinbsd.png",      
"logo": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhRDo6ylljwvU7hLVWRd9cIciBEO4sknBzOHQGECuvW5x8ZK6LuFj890M6HCZZM9j61NaqQU3DA1_SJZELqdtiIEdUejC9zkIf_lLDFFgR3dXAQ2l2lqadxk0waF_lYet5olTZX19oEbYHYJSMaBScwIACW1pGs3TtnR7ZCu7P_FqmzX61yUasXjXmPdC6l/s320/Logo%20Inchi%20copy.png",
"address": {"@type": "PostalAddress",
"addressLocality": "Jawa Barat, Indonesia",
"addressRegion": "Jawa Barat",
"addressCountry": "ID",
"postalCode": "17841",
"telephone": "+62 812 8906 5249",
"email": "datainchi@gmail.com",
"streetAddress": "Jl. Raya Imam Bonjol No.86, Telagamurni, Kec. Cikarang Bar., Kabupaten Bekasi, Jawa Barat 17841"},
"location": 
{"@type": "Place",
"geo": {"@type": "GeoCoordinates",
"latitude": "-6.2697727", "longitude": "107.1165375"}
}
}
],

"image":{"@type":"ImageObject",
"@id":"https://penaadventure.com/#logo",
"url": "https://penaadventure.com/img/logo.png",
"caption":"Inchimediatama Nusantara"}


},

{

"@type":"WebSite",
"@id":"https://penaadventure.com/#website",
"url": "https://penaadventure.com",
"inLanguage":"ru",
"name": "UnixBSDShell",
"publisher":{"@id": "https://penaadventure.com/#organization"},
"potentialAction":{"@type":"SearchAction",
"target":"https://penaadventure.com/?s={search_term_string}",
"query-input":"required name=search_term_string"}
},



{"@type":"WebPage",
"@id":"https://penaadventure.com/#webpage",
"url": "https://penaadventure.com",
"inLanguage":"ru",
"name": "Как подключить FreeBSD к Windows с помощью Samba",
"isPartOf":
{"@id":"https://penaadventure.com/#website"},

"image": {
"@type": "ImageObject",
"@id":"https://penaadventure.com/#image",
"width": "1200",
"height": "630",
"url": "https://penaadventure.com",
"caption": "С помощью Samba всю вашу работу можно легко выполнить в одной сети."
},

"datePublished": "2024-01-26 19:00:00 +0300",
"dateModified": "2024-01-26 19:00:00 +0300",
"description": "UnixBSDShell",

"breadcrumb":
{"@id":"https://penaadventure.com/#breadcrumb"}
},

{
"@type":"BreadcrumbList",
"@id":"https://penaadventure.com/#breadcrumb",
"itemListElement":[
{"@type":"ListItem",
"position":1,
"item":{"@type":"WebPage",
"@id":"https://penaadventure.com/",
"url": "https://penaadventure.com",
"name": "UnixBSDShell"
}},

{
"@type":"ListItem",
"position":2,
"item":{"@type":"WebPage",
"@id":"https://penaadventure.com/",
"url": "https://penaadventure.com/ru/freebsd/2024/01/26/samba-on-freebsd-connect-windows/",
"name": "Как подключить FreeBSD к Windows с помощью Samba"
}},

{

"@type":"ListItem",
"position":3,
"item":{"@type":"WebPage",
"url": "https://penaadventure.com/ru/freebsd/2024/01/26/samba-on-freebsd-connect-windows/",
"name": "SysAdmin"
}}

]},



{  "@type": "BlogPosting",
  "url": "https://penaadventure.com/ru/freebsd/2024/01/26/samba-on-freebsd-connect-windows/",
  "name": "Как подключить FreeBSD к Windows с помощью Samba",
  "headline": "Как подключить FreeBSD к Windows с помощью Samba",
  "keywords": "SysAdmin",
  "description": "С помощью Samba всю вашу работу можно легко выполнить в одной сети.",
  "articleBody": "У вас есть несколько устройств в офисе, компании, дома, школе или где-то еще? Как вы передаете данные между компьютерами? Как вы передаете данные между компьютерами? Используете ли вы флэш-накопители или SD-карты для передачи данных между компьютерами? Этот вопрос возникает, когда вы работаете с несколькими компьютерами в одном месте.\n\nSamba — это ответ, с Samba вся ваша работа может быть легко выполнена в одной сети. Вам не нужно тратить драгоценное время на быструю и легкую передачу файлов, документов и других больших элементов по локальной сети. Это одноразовая настройка, а затем несколькими щелчками мыши вы можете обмениваться файлами между компьютерами.\n\nЕсли вы обычно работаете с Windows и хотите обмениваться файлами или документами по локальной сети или просто хотите, чтобы файлы или документы были доступны всем компьютерам, FreeBSD и Samba — правильный выбор. Вы можете использовать сервер FreeBSD в качестве шлюза, чтобы к файлам или документам могли обращаться несколько компьютеров.\n\nНа рисунке ниже показан процесс соединения файлов или документов между FreeBSD (samba) и Windows.\n\n\n\nКаждый пользователь, желающий получить доступ к файлу или документу, должен войти в систему и воспользоваться полученными правами доступа. Успешно вошедшие в систему пользователи могут читать, создавать или изменять файлы на компьютере, на котором они работают.\n\nДоступ к серверу Samba также может осуществляться без пароля, поэтому к нему может получить доступ каждый. Хоть это и не рекомендуется, но некоторым людям это действительно необходимо. Например, если вам нужно очень быстро открыть доступ и нет времени на настройку ограниченного доступа. Настоятельно рекомендуется, чтобы каждый пользователь использовал пароль для входа в систему. Это необходимо для защиты данных или документов, чтобы никто не мог их открыть.\n\nСпецификации сервера Samba\n\n  ОС: FreeBSD 13.2\n  Имя хоста: ns3\n  IP-адрес: 192.168.5.2\n  интерфейсы = nfe0\n  Версия Samba: samba416\n  Версия Python: python39\n  Зависимости: p5-Parse-Yapp, libiconv, curl, py-wsdd\n\n\nА. Подготовка к установке\nПрежде чем приступить к установке Samba, необходимо установить зависимости, необходимые Samba. Цель — обеспечить нормальную работу сервера Samba. Вам необходимо установить несколько зависимостей, но наиболее важными из них являются Python39, p5-Parse-Yapp, libiconv, py-wsdd. Остальные зависимости обычно устанавливаются автоматически.\n\nroot@ns3:~ # pkg install python39 p5-Parse-Yapp libiconv net/py-wsdd\n\n\nПосле установки вышеуказанных зависимостей приступайте к установке Samba. В этой статье мы будем использовать систему портов для установки Samba.\n\nroot@ns3:~ # cd /usr/ports/net/samba416\nroot@ns3:/usr/ports/net/samba416 # make config\n\n\nПри запуске команды «make config» появится меню параметров Samba. Необходимо отметить опцию «PYTHON3».\n\nПродолжайте выполнять команду «make install clean».\n\nroot@ns3:/usr/ports/net/samba416 # make install clean\n\n\nСоздайте сценарий Start Up rc.d, чтобы сервер Samba мог запускаться автоматически. Откройте файл «/etc/rc.conf» и введите приведенный ниже скрипт в файл «/etc/rc.conf».\n\nsamba_server_enable=\"YES\"\nnmbd_enable=\"YES\"\nsmbd_enable=\"YES\"\nwinbindd_enable=\"YES\"\nsamba_server_config=\"/usr/local/etc/smb4.conf\"\nwsdd_enable=\"YES\"\n\n\nВ конце установки порт net/samba416 не включает файл конфигурации «smb4.conf», необходимый для запуска Samba, поэтому мы создадим файл «smb4.conf». Чтобы упростить написание скрипта файла /m, мы создадим скрипт из двух частей.\n\n\n  Глобальные настройки\n  Определение обмена.\n\n\nВот пример полного скрипта “/usr/local/etc/smb4.conf”. Настройте его в соответствии с техническими характеристиками вашего сервера Samba.\n\n#======================= Global Settings =====================================\n[global]\n\nworkgroup = WORKGROUP\nserver string = FreeBSD %v (%h)\nserver role = standalone server\nhosts allow = 192.168.5. 127.\n;  guest account = pcguest\nlog file = /usr/local/samba/var/log.%m\nlog level = 1\nmax log size = 50\n;  realm = MY_REALM\npassdb backend = tdbsam\nbind interfaces only = yes\n#interfaces = nfe0 lo0\ninterfaces = 192.168.5.0/24 127.0.0.1\nwins support = no\nwins server = 192.168.5.2\nlocal master = yes\npreferred master = yes\n\n#============================ Share Definitions ==============================\n[Personal]\n   comment = Home Folder\n   browseable = yes\n   writeable = yes\n   valid users = %U\n   create mode = 0644\n   directory mode = 0755\n   path = /usr/local/etc/sambashare/personal\n   guest ok = no\n\n[Public]\n   comment = Public Folder\n   path = /usr/local/etc/sambashare/public\n   browseable = yes\n   writeable = yes\n   guest ok = no\n   create mode = 0664\n   directory mode = 0775\n   valid users = %U\n\n[Shared] \n   comment = Shared Folder\n   path = /usr/local/etc/sambashare/shared\n   browseable = yes\n   writeable = yes\n   guest ok = no\n   create mode = 0666\n   directory mode = 0777\n   valid users = %U\n\n[Guest] \n   comment = Guest Folder\n   path = /usr/local/etc/sambashare/guest\n   browseable = yes\n   writeable = yes\n   guest ok = no\n   create mode = 0666\n   directory mode = 0777\n   valid users = %U\n\n\nБ. Подготовка конфигурации\nЭтот процесс является неотъемлемой частью процесса установки. Первый шаг, который нам необходимо сделать после создания файла конфигурации «smb4.conf», — это создать каталог.\n\nroot@ns3:~ # mkdir -p /usr/local/etc/sambashare/personal\nroot@ns3:~ # mkdir -p /usr/local/etc/sambashare/public\nroot@ns3:~ # mkdir -p /usr/local/etc/sambashare/shared\nroot@ns3:~ # mkdir -p /usr/local/etc/sambashare/guest\n\n\nПосле этого выполните команду «chmod», эта команда используется для предоставления прав доступа/разрешений владельцу, обычным пользователям и непользователям. Следуем сценарию из файла «smb4.conf».\n\nroot@ns3:~ # chmod 775 /usr/local/etc/sambashare/personal\nroot@ns3:~ # chmod 775 /usr/local/etc/sambashare/public\nroot@ns3:~ # chmod 777 /usr/local/etc/sambashare/shared\nroot@ns3:~ # chmod 777 /usr/local/etc/sambashare/guest\n\n\nСледующим шагом будет редактирование файла «/boot/loader.conf» и вставка в него скрипта, приведённого ниже.\n\nsmbfs_load=\"YES\"\n\n\nДля защиты общих данных или документов мы создаем пользователя и пароль. Имея имя пользователя и пароль, не каждый может получить доступ к файлу или документу.\n\nroot@ns3:~ # pw add group samba\nroot@ns3:~ # pw add group freebsd\n\n\nПриведенный выше скрипт используется для создания группы с именем «samba». После создания группы приступайте к созданию пользователей. В этом примере мы создадим 3 пользователей: Джона, Мэри и Питера, которые будут в группе Samba.\n\nroot@ns3:~ # pw add user -n john -g samba -s /sbin/nologin -c \"samba john\"\nroot@ns3:~ # pw add user -n mary -g samba -s /sbin/nologin -c \"samba mary\"\nroot@ns3:~ # pw add user -n peter -g samba -s /sbin/nologin -c \"samba peter\"\nroot@ns3:~ # pw add user -n jackson -g freebsd -s /sbin/nologin -c \"samba guest\"\n\n\nУкажите пароль для каждого пользователя.\n\nroot@ns3:~ # pdbedit -a -u john -f \"john chaplin\"\nroot@ns3:~ # pdbedit -a -u mary -f \"mary rose\"\nroot@ns3:~ # pdbedit -a -u peter -f \"peter joe\"\nroot@ns3:~ # pdbedit -a -u jackson -f \"jackson samba\"\n\n\nЧтобы вам было легче, посмотрите на картинку ниже.\n\n\n\nСмущенный? Теперь продолжим с командой chown. Эта команда используется для смены владельца файла или каталога.\n\nroot@ns3:~ # chown -R john:samba /usr/local/etc/sambashare/shared\nroot@ns3:~ # chown -R mary:samba /usr/local/etc/sambashare/public\nroot@ns3:~ # chown -R peter:samba /usr/local/etc/sambashare/personal\nroot@ns3:~ # chown -R jackson:freebsd /usr/local/etc/sambashare/guest\n\n\nЗапустите сервер Samba.\n\nroot@ns3:~ # service samba_server restart\n\n\nC. Конфигурация Windows\nНа этом этапе мы начнем настройку в системной среде Windows. Откройте «C:\\Windows\\System32\\drivers\\etc», после чего введите скрипт, приведенный ниже.\n\n192.168.5.2    ns3\n\n\nВ приложении Samba, которое мы изучаем, FreeBSD является сервером Samba, а Windows — клиентом Samba. Поэтому все файлы или документы, которыми вы хотите поделиться, должны быть размещены на сервере FreeBSD. Любой пользователь, желающий использовать файл или документ, может получить к нему доступ только через Windows. В крупных средах, таких как школы, больницы или компании, необходим сетевой администратор для управления правами доступа к файлам или документам, которые являются общими или доступными для пользователей.\n\nВы копируете все файлы или документы на сервер FreeBSD в соответствии с правами доступа пользователя. После этого запустите «chmod», как в примере ниже.\n\nroot@ns3:~ # chmod 644 /usr/local/etc/sambashare/shared/*\nroot@ns3:~ # chmod 644 /usr/local/etc/sambashare/public/*\nroot@ns3:~ # chmod 666 /usr/local/etc/sambashare/personal/*\nroot@ns3:~ # chmod 666 /usr/local/etc/sambashare/guest/*\n\n\nВыполняйте указанную выше команду каждый раз, когда файл или документ добавляется на сервер FreeBSD.\n\nЛюбой пользователь, желающий получить доступ к файлу или документу, может открыть его через проводник Windows. Хорошо, давайте начнем испытывать приложение Samba на клиенте Windows. Откройте проводник Windows и введите «\\192.168.5.2\\personal» или «\\ns3\\personal».\n\nЧтобы удалить подключение к серверу Samba в Windows, запустите «cmd» и введите команду «net use * /delete».\n\nВы также можете попробовать выполнить команду ниже в оболочке «cmd».\n\nC:\\Users\\blogspot&gt;net use \\delete \\\\192.168.5.2\\personal\nC:\\Users\\blogspot&gt;net use \\delete \\\\192.168.5.2\\public\nC:\\Users\\blogspot&gt;net use \\delete \\\\ns3\n\n\nSamba имеет множество функций и применений. Итак, вам придется многое попробовать на своем сервере FreeBSD, а также прочитать множество статей с инструкциями по Samba в поисковой системе Google. Обсуждение в этой статье — лишь часть изучения самбы. Однако процесс установки и настройки практически такой же, если вы хотите объединить его с сервером DHCP или DNS Bind.\n\n",
  "datePublished": "2024-01-26 19:00:00 +0300",
  "dateModified": "2024-01-26 19:00:00 +0300",
  "author": {
    "@type": "Person",
"@id": "https://penaadventure.com/#profilepage",
"name": {"name":"UnixBSDShell's Blog","avatar":"auth/JHW500.jpg","avataralt":"Thank you for visiting our site. Have a nice day!.","bio":"penaadventure.com is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, penaadventure.com also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&A forum for users to ask questions and get help from other members.","location":"Moscow, Russia"},
"url": "https://penaadventure.com/about-us",
    "email": {"uri":null,"bitbucket":null,"codeberg":null,"codepen":null,"dribbble":null,"flickr":null,"facebook":null,"foursquare":null,"github":"datainchi@gmail.com","google_plus":null,"instagram":null,"keybase":null,"lastfm":null,"linkedin":"datainchi@gmail.com","mastodon":null,"pinterest":null,"soundcloud":null,"stackoverflow":null,"steemit":null,"steam":null,"tumblr":"datainchi@gmail.com","twitter":null,"vine":null,"weibo":null,"xing":null,"youtube":"datainchi@gmail.com"}
  },
"publisher": {
"@type": "EducationalOrganization",
"@id": "https://penaadventure.com/#organization"  },



  "mainEntityOfPage": {
    "@type": "WebPage",
"@id":"https://penaadventure.com/#webpage"
  },
  "image": {
    "@type": "ImageObject",
"@id":"https://penaadventure.com/#image"
  }
}

]}</script<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SKDSF4Y03H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SKDSF4Y03H');
</script>

    <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(95806836, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/95806836" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
 
    <!-- Clarity tracking code for https://penaadventure.com/ -->
<script>
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "qrb63393nv");
</script>


<script type="text/javascript">
	atOptions = {
		'key' : '67fb5d6234d340006720e0f69ca5be7f',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//timdinosaur.com/67fb5d6234d340006720e0f69ca5be7f/invoke.js"></script>


<div id="main" role="main"><div class="sidebar sticky"><div itemscope itemtype="http://schema.org/Person">
  <div class="author__avatar"><img src="https://penaadventure.com/images/auth/JHW500.jpg" class="author__avatar" alt="Thank you for visiting our site. Have a nice day!."></div>
  <div class="author__content">
    <h3 class="author__name">UnixBSDShell's Blog</h3><p class="author__bio">penaadventure.com is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, penaadventure.com also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&A forum for users to ask questions and get help from other members.</p></div>
  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons"><li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Moscow, Russia</li></ul>
  </div>
</div></div><article class="page" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="headline" content="Как подключить FreeBSD к Windows с помощью Samba"><meta itemprop="description" content="С помощью Samba всю вашу работу можно легко выполнить в одной сети."><meta itemprop="datePublished" content="2024-01-26"><div class="page__inner-wrap"><header><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Posted:</strong> <time datetime="2024-01-26T19:00:00+03:00">2024-01-26</time> </p><h1 class="page__title" itemprop="headline">Как подключить FreeBSD к Windows с помощью Samba
</h1></header><section class="page__content" itemprop="text">
        <p>У вас есть несколько устройств в офисе, компании, дома, школе или где-то еще? Как вы передаете данные между компьютерами? Как вы передаете данные между компьютерами? Используете ли вы флэш-накопители или SD-карты для передачи данных между компьютерами? Этот вопрос возникает, когда вы работаете с несколькими компьютерами в одном месте.</p>

<p>Samba — это ответ, с Samba вся ваша работа может быть легко выполнена в одной сети. Вам не нужно тратить драгоценное время на быструю и легкую передачу файлов, документов и других больших элементов по локальной сети. Это одноразовая настройка, а затем несколькими щелчками мыши вы можете обмениваться файлами между компьютерами.</p>

<p>Если вы обычно работаете с Windows и хотите обмениваться файлами или документами по локальной сети или просто хотите, чтобы файлы или документы были доступны всем компьютерам, FreeBSD и Samba — правильный выбор. Вы можете использовать сервер FreeBSD в качестве шлюза, чтобы к файлам или документам могли обращаться несколько компьютеров.</p>

<p>На рисунке ниже показан процесс соединения файлов или документов между FreeBSD (samba) и Windows.</p>

<p><img src="/img/connecting files or documents between FreeBSD and samba on Windows.jpg" alt="connecting files or documents between FreeBSD and samba on Windows" /></p>

<p>Каждый пользователь, желающий получить доступ к файлу или документу, должен войти в систему и воспользоваться полученными правами доступа. Успешно вошедшие в систему пользователи могут читать, создавать или изменять файлы на компьютере, на котором они работают.</p>

<p>Доступ к серверу Samba также может осуществляться без пароля, поэтому к нему может получить доступ каждый. Хоть это и не рекомендуется, но некоторым людям это действительно необходимо. Например, если вам нужно очень быстро открыть доступ и нет времени на настройку ограниченного доступа. Настоятельно рекомендуется, чтобы каждый пользователь использовал пароль для входа в систему. Это необходимо для защиты данных или документов, чтобы никто не мог их открыть.</p>

<h1 id="спецификации-сервера-samba">Спецификации сервера Samba</h1>
<ul>
  <li>ОС: FreeBSD 13.2</li>
  <li>Имя хоста: ns3</li>
  <li>IP-адрес: 192.168.5.2</li>
  <li>интерфейсы = nfe0</li>
  <li>Версия Samba: samba416</li>
  <li>Версия Python: python39</li>
  <li>Зависимости: p5-Parse-Yapp, libiconv, curl, py-wsdd</li>
</ul>

<h2 id="а-подготовка-к-установке">А. Подготовка к установке</h2>
<p>Прежде чем приступить к установке Samba, необходимо установить зависимости, необходимые Samba. Цель — обеспечить нормальную работу сервера Samba. Вам необходимо установить несколько зависимостей, но наиболее важными из них являются Python39, p5-Parse-Yapp, libiconv, py-wsdd. Остальные зависимости обычно устанавливаются автоматически.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # pkg install python39 p5-Parse-Yapp libiconv net/py-wsdd
</code></pre></div></div>

<p>После установки вышеуказанных зависимостей приступайте к установке Samba. В этой статье мы будем использовать систему портов для установки Samba.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # cd /usr/ports/net/samba416
root@ns3:/usr/ports/net/samba416 # make config
</code></pre></div></div>

<p>При запуске команды «make config» появится меню параметров Samba. Необходимо отметить опцию «PYTHON3».</p>

<p>Продолжайте выполнять команду «make install clean».</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:/usr/ports/net/samba416 # make install clean
</code></pre></div></div>

<p>Создайте сценарий Start Up rc.d, чтобы сервер Samba мог запускаться автоматически. Откройте файл «/etc/rc.conf» и введите приведенный ниже скрипт в файл «/etc/rc.conf».</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>samba_server_enable="YES"
nmbd_enable="YES"
smbd_enable="YES"
winbindd_enable="YES"
samba_server_config="/usr/local/etc/smb4.conf"
wsdd_enable="YES"
</code></pre></div></div>

<p>В конце установки порт net/samba416 не включает файл конфигурации «smb4.conf», необходимый для запуска Samba, поэтому мы создадим файл «smb4.conf». Чтобы упростить написание скрипта файла /m, мы создадим скрипт из двух частей.</p>

<ul>
  <li>Глобальные настройки</li>
  <li>Определение обмена.</li>
</ul>

<p>Вот пример полного скрипта “/usr/local/etc/smb4.conf”. Настройте его в соответствии с техническими характеристиками вашего сервера Samba.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#======================= Global Settings =====================================
[global]

workgroup = WORKGROUP
server string = FreeBSD %v (%h)
server role = standalone server
hosts allow = 192.168.5. 127.
;  guest account = pcguest
log file = /usr/local/samba/var/log.%m
log level = 1
max log size = 50
;  realm = MY_REALM
passdb backend = tdbsam
bind interfaces only = yes
#interfaces = nfe0 lo0
interfaces = 192.168.5.0/24 127.0.0.1
wins support = no
wins server = 192.168.5.2
local master = yes
preferred master = yes

#============================ Share Definitions ==============================
[Personal]
   comment = Home Folder
   browseable = yes
   writeable = yes
   valid users = %U
   create mode = 0644
   directory mode = 0755
   path = /usr/local/etc/sambashare/personal
   guest ok = no

[Public]
   comment = Public Folder
   path = /usr/local/etc/sambashare/public
   browseable = yes
   writeable = yes
   guest ok = no
   create mode = 0664
   directory mode = 0775
   valid users = %U

[Shared] 
   comment = Shared Folder
   path = /usr/local/etc/sambashare/shared
   browseable = yes
   writeable = yes
   guest ok = no
   create mode = 0666
   directory mode = 0777
   valid users = %U

[Guest] 
   comment = Guest Folder
   path = /usr/local/etc/sambashare/guest
   browseable = yes
   writeable = yes
   guest ok = no
   create mode = 0666
   directory mode = 0777
   valid users = %U
</code></pre></div></div>

<h2 id="б-подготовка-конфигурации">Б. Подготовка конфигурации</h2>
<p>Этот процесс является неотъемлемой частью процесса установки. Первый шаг, который нам необходимо сделать после создания файла конфигурации «smb4.conf», — это создать каталог.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # mkdir -p /usr/local/etc/sambashare/personal
root@ns3:~ # mkdir -p /usr/local/etc/sambashare/public
root@ns3:~ # mkdir -p /usr/local/etc/sambashare/shared
root@ns3:~ # mkdir -p /usr/local/etc/sambashare/guest
</code></pre></div></div>

<p>После этого выполните команду «chmod», эта команда используется для предоставления прав доступа/разрешений владельцу, обычным пользователям и непользователям. Следуем сценарию из файла «smb4.conf».</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # chmod 775 /usr/local/etc/sambashare/personal
root@ns3:~ # chmod 775 /usr/local/etc/sambashare/public
root@ns3:~ # chmod 777 /usr/local/etc/sambashare/shared
root@ns3:~ # chmod 777 /usr/local/etc/sambashare/guest
</code></pre></div></div>

<p>Следующим шагом будет редактирование файла «/boot/loader.conf» и вставка в него скрипта, приведённого ниже.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>smbfs_load="YES"
</code></pre></div></div>

<p>Для защиты общих данных или документов мы создаем пользователя и пароль. Имея имя пользователя и пароль, не каждый может получить доступ к файлу или документу.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # pw add group samba
root@ns3:~ # pw add group freebsd
</code></pre></div></div>

<p>Приведенный выше скрипт используется для создания группы с именем «samba». После создания группы приступайте к созданию пользователей. В этом примере мы создадим 3 пользователей: Джона, Мэри и Питера, которые будут в группе Samba.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # pw add user -n john -g samba -s /sbin/nologin -c "samba john"
root@ns3:~ # pw add user -n mary -g samba -s /sbin/nologin -c "samba mary"
root@ns3:~ # pw add user -n peter -g samba -s /sbin/nologin -c "samba peter"
root@ns3:~ # pw add user -n jackson -g freebsd -s /sbin/nologin -c "samba guest"
</code></pre></div></div>

<p>Укажите пароль для каждого пользователя.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # pdbedit -a -u john -f "john chaplin"
root@ns3:~ # pdbedit -a -u mary -f "mary rose"
root@ns3:~ # pdbedit -a -u peter -f "peter joe"
root@ns3:~ # pdbedit -a -u jackson -f "jackson samba"
</code></pre></div></div>

<p>Чтобы вам было легче, посмотрите на картинку ниже.</p>

<p><img src="/img/create samba user and group in freebsd.jpg" alt="create samba user and group in freebsd" /></p>

<p>Смущенный? Теперь продолжим с командой chown. Эта команда используется для смены владельца файла или каталога.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # chown -R john:samba /usr/local/etc/sambashare/shared
root@ns3:~ # chown -R mary:samba /usr/local/etc/sambashare/public
root@ns3:~ # chown -R peter:samba /usr/local/etc/sambashare/personal
root@ns3:~ # chown -R jackson:freebsd /usr/local/etc/sambashare/guest
</code></pre></div></div>

<p>Запустите сервер Samba.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # service samba_server restart
</code></pre></div></div>

<h2 id="c-конфигурация-windows">C. Конфигурация Windows</h2>
<p>На этом этапе мы начнем настройку в системной среде Windows. Откройте «C:\Windows\System32\drivers\etc», после чего введите скрипт, приведенный ниже.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.5.2    ns3
</code></pre></div></div>

<p>В приложении Samba, которое мы изучаем, FreeBSD является сервером Samba, а Windows — клиентом Samba. Поэтому все файлы или документы, которыми вы хотите поделиться, должны быть размещены на сервере FreeBSD. Любой пользователь, желающий использовать файл или документ, может получить к нему доступ только через Windows. В крупных средах, таких как школы, больницы или компании, необходим сетевой администратор для управления правами доступа к файлам или документам, которые являются общими или доступными для пользователей.</p>

<p>Вы копируете все файлы или документы на сервер FreeBSD в соответствии с правами доступа пользователя. После этого запустите «chmod», как в примере ниже.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ns3:~ # chmod 644 /usr/local/etc/sambashare/shared/*
root@ns3:~ # chmod 644 /usr/local/etc/sambashare/public/*
root@ns3:~ # chmod 666 /usr/local/etc/sambashare/personal/*
root@ns3:~ # chmod 666 /usr/local/etc/sambashare/guest/*
</code></pre></div></div>

<p>Выполняйте указанную выше команду каждый раз, когда файл или документ добавляется на сервер FreeBSD.</p>

<p>Любой пользователь, желающий получить доступ к файлу или документу, может открыть его через проводник Windows. Хорошо, давайте начнем испытывать приложение Samba на клиенте Windows. Откройте проводник Windows и введите «\192.168.5.2\personal» или «\ns3\personal».</p>

<p>Чтобы удалить подключение к серверу Samba в Windows, запустите «cmd» и введите команду «net use * /delete».</p>

<p>Вы также можете попробовать выполнить команду ниже в оболочке «cmd».</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\Users\blogspot&gt;net use \delete \\192.168.5.2\personal
C:\Users\blogspot&gt;net use \delete \\192.168.5.2\public
C:\Users\blogspot&gt;net use \delete \\ns3
</code></pre></div></div>

<p>Samba имеет множество функций и применений. Итак, вам придется многое попробовать на своем сервере FreeBSD, а также прочитать множество статей с инструкциями по Samba в поисковой системе Google. Обсуждение в этой статье — лишь часть изучения самбы. Однако процесс установки и настройки практически такой же, если вы хотите объединить его с сервером DHCP или DNS Bind.</p>

</section>
      <footer class="page__meta"><script type="text/javascript">
	atOptions = {
		'key' : '9f0fbeed81ad3c9bfba81d92c5429c29',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//timdinosaur.com/9f0fbeed81ad3c9bfba81d92c5429c29/invoke.js"></script>


        <p class="page__date"><strong><i class="fa fa-fw fa-creative-commons" aria-hidden="true"></i> License: </strong> <a href="https://creativecommons.org/licenses/by/4.0/">By:</a> UnixBSDShell's Blog</p><p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Posted:</strong> <time datetime="2024-01-26T19:00:00+03:00">2024-01-26</time></p><p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords"><a href="https://penaadventure.com/tags/#sysadmin" class="page__taxonomy-item" rel="tag">SysAdmin</a></span>
  </p><p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords"><a href="https://penaadventure.com/categories/#freebsd" class="page__taxonomy-item" rel="tag">FreeBSD</a><span class="sep">, </span><a href="https://penaadventure.com/categories/#ru" class="page__taxonomy-item" rel="tag">ru</a></span>
  </p></footer><nav class="pagination"><a href="https://penaadventure.com/ru/freebsd/2023/05/01/openbsd-redis.cached-db-install/" class="pagination--pager" title="Как установить Redis Cache DB на OpenBSD
">Previous</a><a href="https://penaadventure.com/ru/freebsd/2024/02/15/freebsd-magento-adobe-commerce-php-apache/" class="pagination--pager" title="Настройка FreeBSD Magento Adobe Commerce с PHP Composer и Apache
">Next</a></nav></div>
  </article></div><div class="page__footer">
      <footer><!-- start custom footer snippets -->
<!-- end custom footer snippets --><div class="page__footer-follow">
  <ul class="social-icons"><li><a href="https://x.com/iwanset96143401"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li><li><a href="feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Atom Feed</a></li>
    <li><a href="https://penaadventure.com/about/"><i class="fa fa-fw fa-user" aria-hidden="true"></i> About Us</a></li>
  </ul>
</div>
<div class="page__footer-copyright">&copy; 2025 UnixBSDShell. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://www.inchimediatama.org/" rel="dofollow">Minimal Mistakes</a>.</div>
</footer>
    </div><script src="https://penaadventure.com/assets/js/main.min.js"></script></body>
</html>